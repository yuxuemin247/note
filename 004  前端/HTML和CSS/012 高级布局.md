# 高级布局

## 一、文档流（normal flow）

####  1、概念

```
本质为normal flow（普通流、常规流）将窗体自上而下分成一行一行，块级元素从上至下、行内元素在每行中从左至右的顺序依次排放元素。
```

###### v_hint：本质不存在文档流概念，当一个错误的概念被绝大数人认为是对的，那么它就是对的

#### 2、BFC（Block formatting context）

```
块级格式化上下文，它是一个独立的渲染区域，只有Block-level box参与，它规定了内部的Block-level Box如何布局，并且与这个区域外部毫不相干。
```

#### 3、BFC规则

```
① 内部的Box会在垂直方向，一个接一个地放置；
② Box自身垂直方向的位置由margin-top决定，属于同一个BFC的两个相邻Box的margin会发生重叠；
③ Box自身水平方向的位置由margin左或右决定(具体已经参照BFC方位)，属于同一个BFC的两个相邻Box的margin会发生叠加。
```

## 二、浮动布局

#### 1、解决的经典案例

```html
<style type="text/css">
    .box {
        width: 300px;
        border: 1px solid black;
    }
    .box img {
        width: 150px;
        float: left;
    }
</style>
<div class="box">
    <img src="bg.gif" alt="">
    浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例，浮动布局解决的经典案例。
</div>
```

#### 2、基本语法

```css
float: left | right
```

#### 3、浮动布局问题

- 在不做清浮动情况下，父级不会获取子级的高度

#### 4、清浮动

- 目的：对父级所在容器中的Block-level Box布局不产生影响
- 原理：在浮动布局情况下，让父级获得合适的高度

```css
① 浮动的父级设置高度
super {
    height: npx;
}
② 浮动的父级设置overflow
super {
    overflow: hidden;
}
③ 浮动的父级兄弟设置clear
brother {
    clear: left | right | both;
}
④ 浮动的父级伪类清浮动
super:after {
    content: "";
    display: block;
    clear: left | right | both;
}
```

## 三、流式布局

#### 1、解决的经典案例

```html
<style type="text/css">
    .wrap {
        max-width: 1200px;
        min-width: 800px;
        width: 90%;
        height: 600px;
        margin: 0 auto;
        background-color: orange;
    }
</style>
<div class="wrap"></div>
```

#### 2、流式布局相关操作

```
① 百分比设置 %
② 窗口比设置 vw | vh
③ 字体控制 em | rem
```

## 四、定位布局

#### 1、解决的经典案例

```html
<style type="text/css">
	.ad {
		width: 150px;
		height: 320px;
		background-color: orange;
		position: fixed;
		top: calc(50vh - 160px);
		left: 0;
	}
</style>
<div class="ad"></div>
br*100
```

#### 2、定位的语法

```css
position: static | relative | absolute | fixed
布局方位：left | right | top | bottom
```

#### 3、相对定位（relative）

```
① 未脱离文档流
② 以自身原有位置作为参考坐标系
```

#### 4、绝对定位（absolute）

```
① 脱离文档流
② 以最近定位父级作为参考坐标系
```

#### 5、固定定位（fixed）

```
① 脱离文档流
② 以文档窗口作为参考坐标系
```

#### 6、z-index  

- z-index 属性设置元素的堆叠顺序。拥有更高堆叠顺序的元素总是会处于堆叠顺序较低的元素的前面

- 元素可拥有负的 z-index 属性值。

   Z-index 仅能在定位元素上奏效

- 该属性设置一个定位元素沿 z 轴的位置，z 轴定义为垂直延伸到显示区的轴。如果为正数，则离用户更近，为负数则表示离用户更远。
- 属性值 ：
  - auto 默认，堆叠顺序与父元素相等
  - number 设置元素的堆叠顺序
  - inherit 规定应该从父元素继承z-index属性的值。

## 五、Flex布局（弹性布局)

#### 1、解决的经典案例

```html
<style type="text/css">
	.container {
		width: 600px;
		height: 600px;
		display: flex;
		flex-direction: column;  
		border: 1px solid #333;
	}
	.it1, .it3 {
		flex-grow: 1;
		background-color: orange;
	}
	.it2 {
		flex-grow: 2;
		background-color: red;
	}
</style>
<div class="container">
	<div class="item it1"></div>
	<div class="item it2"></div>
	<div class="item it3"></div>
</div>
```

#### 2、学习目的

- Flex是Flexible Box的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。

###### v_hint：设为Flex布局以后，子元素的float、clear和vertical-align属性将失效。

#### 3、基本概念

- 采用Flex布局的元素，称为Flex容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为Flex项目（flex item），简称”项目”。
- 水平为轴（main axis），主轴的开始位置（与边框的交叉点）叫做main start，结束位置叫做main end。
- 垂直为交叉轴（cross axis），交叉轴的开始位置叫做cross start，结束位置叫做cross end。
- 项目默认沿主轴排列。单个项目占据的主轴空间叫做main size，占据的交叉轴空间叫做cross size。

#### 4、容器属性

```css
① flex-direction 属性 决定主轴的方向（即项目的排列方向）
flex-direction: row | row-reverse | column | column-reverse;
-- row（默认值）：主轴为水平方向，起点在左端。
-- row-reverse：主轴为水平方向，起点在右端。
-- column：主轴为垂直方向，起点在上沿。
-- column-reverse：主轴为垂直方向，起点在下沿。

② flex-wrap 属性 定义，如果一条轴线排不下，如何换行。
flex-wrap: nowrap | wrap | wrap-reverse;
-- nowrap（默认）：不换行。
-- wrap：换行，第一行在上方。
-- wrap-reverse：换行，第一行在下方。

③ flex-flow 属性 是flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap。
flex-flow: <flex-direction> <flex-wrap>;

④ justify-content 属性 定义了项目在主轴上的对齐方式。
justify-content: flex-start | flex-end | center | space-between | space-around;

⑤ align-items 属性 定义项目在交叉轴上如何对齐。
align-items: flex-start | flex-end | center | baseline | stretch;

⑥ align-content 属性 定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。
align-content: flex-start | flex-end | center | space-between | space-around | stretch;

```

#### 5、项目属性

```css
① order 属性 定义项目的排列顺序。数值越小，排列越靠前，默认为0。
order: <integer>;

② flex-grow 属性 定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。
flex-grow: <number>; /* default 0 */

③ flex-shrink 属性 定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。
flex-shrink: <number>; /* default 1 */

④ flex-basis 属性 定义了在分配多余空间之前，项目占据的主轴空间（main size）。
flex-basis: <length> | auto; /* default auto */

⑤ flex 属性 是flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto。后两个属性可选。
flex: <flex-grow> <flex-shrink> <flex-basis>

⑥ align-self 属性 允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。
align-self: auto | flex-start | flex-end | center | baseline | stretch;
```

## 六、响应式布局

#### 1、页面宽度

- 小于\<integer\>值宽度,类里面的自适应代码生效

```css
@media only screen and (max-width: <integer>) {
    selector {
    }
}
```

- 宽度大于<integer\>小于`<integer1\>`时下面的自适应代码生效

```css
@media only screen and (min-width: <integer>) and (max-width: <integer1>) {
    selector {
        
    }
}
```

- 大于<integer\>宽度时类里面的自适应代码生效

```css
@media only screen and (min-width: <integer>) {
    selector {
        
    }
}
```