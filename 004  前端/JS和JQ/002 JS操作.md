# JS基础操作

## 一、分支结构

#### 1、if语句

- if 基础语法

```js
if (条件表达式) {
    代码块;
}
// 当条件表达式结果为true，会执行代码块；反之不执行
// 条件表达式可以为普通表达式
// 0、undefined、null、""、NaN为假，其他均为真
```

- if 复杂语法

```js
// 1.双分支
if (表达式1) {
    代码块1;
} else {
    代码块2;
}

// 2.多分支
if (表达式1) {
    代码块1
} else if (表达式2) {
    代码块2
} else if (表达式3) {
    代码块3
} else {
    代码块4
}
```

- if 嵌套

```js
if (表达式1) {
    if (表达式2) {
        
    }...
}...
```

#### 2、switch语句

```js
switch (表达式) {
    case 值1: 代码块1; break;
    case 值2: 代码块2; break;
    default: 代码块3;
}

例子：
name = "东哥"
switch(name){
    case "老王":
        console.log("大家都是邻居，相互帮忙别客气"
        break
     case "马云":
         console.log("我对钱不感兴趣")
        break
    case "东哥":
        console.log("我脸盲")
        break
    default:
        console.log("我们可以定一个小目标")
}
// 1.表达式可以为 整数表达式 或 字符串表达式
// 2.值可以为 整数 或 字符串
// 3.break可以省略
// 4.default为默认代码块，需要出现在所有case最下方，在所有case均未被匹配时执行
```

## 二、循环结构

#### 1、for循环

```js
for (循环变量①; 条件表达式②; 循环变量增量③) {
    代码块④;
}
// 1.循环变量可以在外、在内声明
// 2.执行逻辑 ①②④③ ... ②④③ ②，入口为①，出口为②，②④③个数为[0, n]
/* 执行：首先执行语句1，然后执行语句2并且判断语句2的值是否为true，如果为true就进入第一次循环执行循环体4，否则直接退出循环；第一次循环成功执行以后，再执行语句3，然后再执行语句2并且判断是否为true，为true则进入循环体4；然后再执行语句3，然后再执行语句2并且判断，...如此类推直至语句2为false就退出循环 */
for(var i = 0;i<10;i++){
	console.log("第%d次执行",i)
}
// 0，1，2，3，4，5，6，7，8，9
```

#### 2、while循环

```js
while (条件表达式) {
    代码块;
}
```

#### 3、do...while循环

```js
do {
    代码块;
} while (条件表达式);
```

#### 4、for...in循环

```js
obj = {"name": "zero", "age": 8}
for (k in obj) {
    console.log(k, obj[k])
}
// 用于遍历对象：遍历的结果为key(对象属性)，通过[]语法可以访问对应的value
//用于遍历数组的时候，取出来的是下标
```

#### 5、for...of循环

```js
iter = ['a', 'b', 'c'];
for (i in iter) {
    console.log(iter[i])
}
// 1.用于遍历可迭代对象：遍历结果为index，通过[]语法访问对应的value
// 2.ES6新增，可迭代对象有 字符串、数组、Map、Set、Anguments、NodeList等
```

#### 6、break，continue关键词

- break：结束本层循环
- continue：结束本次循环进入下一次循环

## 三、异常处理

```js
try {
    易错代码块;
} catch (err) {
    异常处理代码块;
} finally {
    必须逻辑代码块;
}
// 1.err为存储错误信息的变量，err的两个属性：name 和 message。
// 2.finally分支在异常出现与否都会被执行
```

```js
throw "自定义异常"
// 必要的时候抛出自定义异常，要结合对应的try...catch使用
try{
	if(isNaN(x)) throw "不是数字";
}catch (err){
    console.log(err.message)
}finally{
    必须逻辑代码块
}
```

## 四、函数初级

#### 1、函数的定义

- ES5

```js
function 函数名 (参数列表) {
    函数体;
}

var 函数名 = function (参数列表) {
    函数体;
}
```

- ES6

```js
let 函数名 = (参数列表) => {
    函数体;
}
```

- 匿名函数

```js
function (参数列表) {
    函数体;
}

// 匿名函数需要自调用
(function (参数列表) {
    函数体;
})(参数列表);
```

#### 2、函数的调用

- 函数名(参数列表)

#### 3、函数的参数

- 个数不需要统一

```js
function fn (a, b, c) {
    console.log(a, b, c)  // 100 undefined undefined
}
fn(100)

function fn (a) {
    console.log(a)  // 100
}
fn(100, 200, 300)  // 200,300被丢弃
```

- 可以任意位置具有默认值

```js
function fn (a, b=20, c, d=40) {
    console.log(a, b, c, d)  // 100 200 300 40
}
fn(100, 200, 300)
```

- 通过...语法接收多个值

```js
function fn (a, ...b) {
    console.log(a, b)  // 100 [200 300]
}
fn(100, 200, 300)
// ...变量必须出现在参数列表最后
```

#### 4、返回值

```js
function fn () {
    return 返回值;
}
// 1.可以空return操作，用来结束函数
// 2.返回值可以为任意js类型数据
// 3.函数最多只能拥有一个返回值
```

#### 5、原型和原型链

##### 什么是原型

每一个JavaScript对象都和另一个对象相关联, 并从另一个对象继承属性,另一个对象就是"原型"  
用直接量创建的对象 都具有同一个原型对象 Object.prototype

##### 原型链

对象的原型也有原型,构成了原型链

##### 获取原型

```
构造函数.prototype    
对象.__proto__
```

##### 给原型添加属性或方法

给原型添加属性和方法，以该对象为原型的对象 都可以使用该方法

##### 检测属性 是自有属性还是继承自原型的属性

```js
obj.hasOwnProperty(proName)
```

##### 创建对象时指定原型

```
Object.create(原型对象)
```

## 五、事件初级

- onload：页面加载完毕事件，只附属于window对象
- onclick：鼠标点击时间
- onmouseover：鼠标悬浮事件
- onmouseout：鼠标移开事件

## 六、JS选择器

DOM

Document Object Model，文档对象模型，建立html标签元素和js代码之间的交互；
DOM的核心对象是document，所有的操作都要围绕document来做，document指的是我们加载到浏览器中的html文档
【注意】 由于DOM操作的document对象，来源于外界的加载，只有当所有的html对象加载完了，我们才能操作页面上的元素

#### 1、getElement系列

```js
// 1.通过id名获取唯一满足条件的页面元素
document.getElementById('id名');
// 该方法只能由document调用

// 2、通过class名获取所有满足条件的页面元素
document.getElementsByClassName('class名');
// 该方法可以由document及任意页面元素对象调用
// 返回值为HTMLCollection (一个类数组结果的对象，使用方式同数组)
// 没有匹配到任何结果返回空HTMLCollection对象 ([])

// 3.通过tag名获取所有满足条件的页面元素
document.getElementsByTagName('tag名');
// 该方法可以由document及任意页面元素对象调用
// 返回值为HTMLCollection (一个类数组结果的对象，使用方式同数组)
// 没有匹配到任何结果返回空HTMLCollection对象 ([])
// 4、通过name值选择一批元素
document.getElementsByName("name值")    用name值来选择一批元素(不建议使用)
```

#### 2、querySelect系列

```js
// 1.获取第一个匹配到的页面元素
document.querySelector('css语法选择器');
// 该方法可以由document及任意页面对象调用
// 2.获取所有匹配到的页面元素
document.querySelectorAll('css语法选择器');
// 该方法可以由document及任意页面对象调用
// 返回值为NodeList (一个类数组结果的对象，使用方式同数组)
// 没有匹配到任何结果返回空NodeList对象 ([])
```

## 七、JS操作页面内容

```
//举个例子
<div id="d1">
    我是盒子
    <p>
        我是
            <h1>
                我是H
            </h1>
    </p>
</div>
```

- innerText：普通标签内容（自身文本与所有子标签文本）

  ```
  console.log(document.getElementById('id值').innerText) 
  我是盒子
  
  我是
  
  我是H
  //innerText|innerHTML不是函数不能加()
  ```

- innerHTML：包含标签在内的内容（自身文本及子标签的所有）

  ```
  console.log(document.getElementById('id值').innerHTML)
      
      我是盒子
      <p>
          我是
              </p><h1>
                  我是H
              </h1>
      <p></p>
  ```

- value：表单标签的内容

- outerHTML：包含自身标签在内的内容（自身标签及往下的所有）

  ```html
  console.log(document.getElementById('id值').outHTMl) 
  结果：
  <div id="d1">
      我是盒子
      <p>
          我是
              </p><h1>
                  我是H
              </h1>
      <p></p>
  </div>  
  ```

javascript修改元素，通过对DOM对象赋值

```
document.getElementById('id值').innerHTML='xxxx'
document.getElementById('id值').innerText = 'xxxx'
...
```

## 八、JS操作页面样式

- 读写 style属性 样式

```js
div.style.backgroundColor = 'red';
// 1.操作的为行间式
// 2.可读可写
// 3.如果属性名在原生css包含多个单词用"-"链接起来，这里采用小驼峰命名法
//如css border-radius在这里要写成borderRadius
```

- 只读 计算后 样式(获取元素计算过后的样式)

```js
// eg: 背景颜色
// 推荐
getComputedStyle(页面元素对象, 伪类).getPropertyValue('background-color');
// 不推荐
getComputedStyle(页面元素对象, 伪类).backgroundColor;

// IE9以下
页面元素对象.currentStyle.getAttribute('background-color');
页面元素对象.currentStyle.backgroundColor;

// 1.页面元素对象由JS选择器获取
// 2.伪类没有的情况下用null填充
// 3.计算后样式为只读
// 4.该方式依旧可以获取行间式样式 (获取逻辑最后的样式)
```

- 结合 css 操作样式

```js
页面元素对象.className = "";  // 清除类名
页面元素对象.className = "类名";  // 设置类名
页面元素对象.className += " 类名";  // 添加类名
```
