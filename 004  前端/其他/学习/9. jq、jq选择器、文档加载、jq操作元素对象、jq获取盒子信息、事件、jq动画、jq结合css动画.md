[TOC]

**复习**

```js
/* 1.事件
<div class="ele">123</div>
var data = "后台获取的数据";
box.onclick = function(ev) {
	// ev: 系统传入的事件对象
	// a
	// ele.innerText
	if (data) {
		// 逻辑
	} else {
		// 小菊花
	}
}
var a = 10;

// ev: 鼠标事件 => clientX,clientY (点击点的坐标)
// ev: 键盘事件 => ctrlKey,keyCode (按键编号)
*/
/* 2.循环绑定 => 变量污染
// ul>li{$}*5
// data ["","","","",""]
for (var i=0; i<lis.length; i++) {
	lis[i].index = i;
	lis[i].onmousenter = function() {
		// 拿到自己的索引
		this.innerText = data[this.index]
	}
} // 循环结束后 => i定格在5
*/
/* 3.对象(字典)的使用
var divt = {
	a: "AAA",
	b: "BBB"
}
dict.a | dict.a = "aaa" | dict.c = "CCC" | delete dict.a
*/
/* 4.数组 [1, 3.14, "abc", true, function(){}, {}, []]
join => 转换字符串
splice(begin, length, ...eles)
*/
/* 5.事件
鼠标事件: onmouse enter|move|down|up|leave|  onclick|dblclick  oncontextmenu
键盘事件: onkeydown|up
*/
/* 6.字符串,Math
parseInt(Math.random() * (max - min + 1)) + min
*/
/* 7.定时器
setInterval|setTimeout  setInetval(fn, 1000)
clearInterval|clearTimeout 通用
清除定时器本质就是对定时器创建的数字编号进行清除操作
*/
```

# jq

```js
/*
1.选择器
2.页面内容操作
3.页面样式操作
4.类名操作
5.事件
6.动画
7.ajax ******
8.dom
9.结构(dom树)
*/
```



# jq选择器

```js
// 获取满足条件的所有页面元素jq对象
$('css3选择器语法');

// 拿到指定索引的页面元素jq对象
$('css3选择器语法').eq(index);

// 拿到指定索引的页面元素js对象 (jq对象转js对象)
$('css3选择器语法').get(index);

// js对象转jq对象
$(js对象);
```





# 文档加载

```js
// js
// 页面结构及页面所需资源全部加载完毕, 只能绑定一个事件方法
window.onload = function() {
}

// jq
// 页面结构加载完毕, 能绑定多个事件方法, 可以简写
// 一:可以保证页面结构一定加载完毕, 二:可以保证数据的局部化(不会被外界直接读写)
$(function(){
})
```



# jq操作元素对象

```js
// 链式操作: (几乎)每一个方法都具有返回值(元素对象)

// 1.文本内容
var res = $('.box:first-child').text("100").html("<b>888</b>");

// console.log(res);


// 2.样式
res = $('.box').eq(1)
    .css("color", "pink")
    .css("font-size", "30px")
    .css({
    backgroundColor: "orange",
    "height": "80px"
})
    .css("width", function (index,oldVal) {
    console.log(this); // js对象 转化为jq对象来使用
    console.log($(this).height());
    // 宽度为自身高度的2倍
    return $(this).height() * 2;
})
    .css("border-radius"); // 能获取计算后样式

// console.log(res);

// 3.类名
res = $('.box:nth-child(3)').addClass("abc").removeClass("abc");

console.log(res);

// 4.全局属性
$('img').attr("src", "http://onehdwallpaper.com/wp-content/uploads/2015/11/Most-Beautiful-Girl-in-Flowers-Field.jpg")
    .removeAttr("src");
console.log($('img').attr("ooo"));
```



# jq获取盒子信息

- 显示信息

```js
// 盒子信息:
// 宽高 | 内边距 | 宽边 | 外边距

var res = $('.box').css("padding");
console.log(res);

// 宽高
res = $('.box').width();
console.log(res);

// 宽高+内边距
res = $('.box').innerWidth();
console.log(res);

// 宽高+内边距+边框
res = $('.box').outerWidth();
console.log(res);

// 宽高+内边距+边框+外边距
res = $('.box').outerWidth(true);
console.log(res);
```

- 位置信息

```js
// 相对窗口偏移: 算margin产生的距离
console.log($('.box').offset().top, $('.box').offset().left);

// 绝对定位偏移(top,left): 不算margin产生的距离
console.log($('.box').position().top, $('.box').position().left);
```





# 事件

```js
// 事件名, 函数
$('.box').on('click', function (ev) {
    // jq事件对象对js事件对象 兼容
    console.log(ev);
})
// 取消默认事件: 取消系统自带的功能, 右键的右键框, a标签点击的href转跳
ev.preventDefault(); | 事件方法 return false;

// 阻止事件的传播(阻止事件的冒泡): 父子有同样事件,子响应了事件,会将事件传递给父,父级也会响应同样的事件
// 只让子点击子相应,只点击到父,父相应,子级需要阻止事件的传播
ev.stopPropagation();
```





# jq动画

```js
// 鼠标悬浮事件
$('.box').on('mouseenter', function () {
    // {动画的属性们} 动画事件 动画效果(可插件,省略) 动画结束的回调函数fn
    $(this).animate({
        width: "400px",
        height: "400px",
        "background-color": "red" // 原生jq不支持颜色动画
    }, 1000, function () {
        console.log("变大结束")
    })

})
// 鼠标移开事件
$('.box').on('mouseleave', function () {
    $(this).animate({
        width: "200px",
        height: "200px"
    }, 1000, function () {
        console.log("动画完成时的回调函数")
    })
})
```





# jq结合css动画

```html
<style>
    .box { /*第一状态*/
        width: 200px;
        height: 200px;
        background-color: brown;
        margin: 100px auto;
        transition: 1s;
    }
    .box.move { /*第二状态*/
        margin-top: 50px;
        width: 300px;
        height: 300px;
        background-color: yellow;
    }
</style>
<body>
    <div class="box"></div>
</body>
<script src="js/jquery-3.3.1.js"></script>

<script>
    $('.box').on('mouseenter', function () {
        $(this).addClass('move'); // 添加了move类名,从第一状态动画到第二状态
    })

    $('.box').on('mouseleave', function () {
        $(this).removeClass('move'); // 删除了move类名,从第二状态动画到第一状态
    })

</script>
```































