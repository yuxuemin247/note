序列化就是把一个对象变成字符串或者字节串的过程。

反序列化：把一个字符串或者字节串还原成对象的过程

##### 1、JSON和pickle

- Json/pickle 都能序列化 dump/dumps  load/loads	 

- Json出来是字符串 str，pickle出来是字节串 bytes

- Json在处理自定义对象有问题，相对麻烦，但安全，safe=True，默认只能处理字典 safe=Flase 列表字典都可以

- pickle反序列时会有风险，执行恶意代码。

- django redis默认使用的pickle 二进制序列化

  ```
  data = json.dumps(f,indent=2)
  # indent 缩进，只是为了显示美观
  #  ensure_ascil 默认为true，使用ascil。当有中文时设置为False防止乱码
  #sort_keys =True 按keys排序
  #separators = [',' , ' :']  表示将keys用，隔开，key values用 ：号隔开
  ```

##### 2、JSONDecodeError

代码抛出异常：JSONDecodeError: Expecting value: line 1 column 1 (char 0)

因为传递给 `json.loads` 的参数不符合 JSON 格式，所以抛出异常

- 参数为（或含有）普通的字符串格式（plain or html)

  ```python
  import json
  import requests
  
  resp = requests.get("http://www.baidu.com")
  print(type(resp.text))  #<class 'str'>
  print(json.loads(resp.text)) #JSONDecodeError
  ```

- 键值对使用单引号而非双引号

  ```python
  import json
  data ="{'a':'b'}"
  print(type(data)) # <class 'str'>
  print(json.loads(data)) #JSONDecodeError
  ```

- 最后一行逗号

  ```python
  import json
  a = '{"foo":"bar","egg":"aaa",}'
  print(json.loads(a))  #JSONDecodeError
  ```

##### 3、其他

- URL中有中文

  ```
  from urllib parse import quote
  quote('中文')
  
  from urllib.parse import unquote
  unquote('%sadad')
  ```

  

